<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../../../img/favicon.ico">
        <title>Part 1A - Using Azure HTTP-Triggered Function - My Docs</title>
        <link href="../../../../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../../../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../../../../css/brands.min.css" rel="stylesheet">
        <link href="../../../../../css/solid.min.css" rel="stylesheet">
        <link href="../../../../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../../../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../../../../..">My Docs</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href="../../../../.." class="nav-link">Welcome to MkDocs</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Airflow</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../../../Airflow/1.0.0_AirFlow_Concepts/" class="dropdown-item">Airflow Concepts</a>
</li>
                                    
<li>
    <a href="../../../../../Airflow/1.0.1_A_Dags_Anatomy/" class="dropdown-item">A dags anatomy</a>
</li>
                                    
<li>
    <a href="../../../../../Airflow/1.0.2_Hello_Airflow/" class="dropdown-item">Hello-Airflow</a>
</li>
                                    
<li>
    <a href="../../../../../Airflow/1.0.3_Airflow_Dbt_Docker/" class="dropdown-item">Project Airflow dbt</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle active" aria-current="page" role="button" data-bs-toggle="dropdown"  aria-expanded="false">DE Projects</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../../Csv-To-MSSQL/" class="dropdown-item">Python - CSV To MSSQL</a>
</li>
                                    
<li>
    <a href="../../../../CurrencyPredictor/" class="dropdown-item">CurrencyPredictor</a>
</li>
                                    
<li>
    <a href="../../../../Dbrk-E2E-AttritionProject/" class="dropdown-item">Problem Statement</a>
</li>
                                    
<li>
    <a href="../../../../Download-Haddop-Jars/" class="dropdown-item">Download JARs-Apache Maven Repo</a>
</li>
                                    
<li>
    <a href="../../../../FetchJsonWriteParquet/" class="dropdown-item">Json To Parquet Using Spark And Azure</a>
</li>
                                    
<li>
    <a href="../../../../InstallScala/" class="dropdown-item">Scala Install</a>
</li>
                                    
<li>
    <a href="../../../../JsonFlatAzureSDK/" class="dropdown-item">Flatten Json Using Azure SDK</a>
</li>
                                    
<li>
    <a href="../../../../LocalPython_AzureBlob/" class="dropdown-item">Local Python Code to Rearrange Files in a Azure Blob Container</a>
</li>
                                    
<li>
    <a href="../../../../Microsoft_OpenJDK/" class="dropdown-item">Microsoft OpenJDK</a>
</li>
                                    
<li>
    <a href="../../../../Project_MigrationToAzureBlob/" class="dropdown-item">CMS Migration to Azure Blob</a>
</li>
                                    
<li>
    <a href="../../../../Project_MongoCMS/" class="dropdown-item">CMS using MongoDB</a>
</li>
                                    
<li>
    <a href="../../../../Project_SSRS_SSIS_SharePoint/" class="dropdown-item">Project - ETL and Reporting Lending Org</a>
</li>
                                    
<li>
    <a href="../../../../Raw-Json-To-Hive/" class="dropdown-item">Raw Json To Hive</a>
</li>
                                    
<li>
    <a href="../../../../SPY_ETF_Buy_Recommender/" class="dropdown-item">SPY ETF Buy Recommender</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">AzureSkyWeather</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../HomeProjectAzureSkyWeather/" class="dropdown-item">Project AzureSkyWeather</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">1 Ingestion</a>
    <ul class="dropdown-menu">
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">HttpTriggered</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="./" class="dropdown-item active" aria-current="page">Part 1A - Using Azure HTTP-Triggered Function</a>
</li>
            
<li>
    <a href="../nav2_AzureFunctions/" class="dropdown-item">Azure Functions Quickstart</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">TimerTriggered</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../TimerTriggered/TimerTriggered_AzureFunc/" class="dropdown-item">Part 1B - Using Azure Timer-Triggered Function</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">2 Transformation</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../2_Transformation/Solution_Details/" class="dropdown-item">Solution Details</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">JsonValidator</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../../JsonValidator/AzureFunction-ValidateJSOns/" class="dropdown-item">Azure Functions - Validate JSONs</a>
</li>
            
<li>
    <a href="../../../../JsonValidator/Python-ValidateJSONs/" class="dropdown-item">Validate JSON using Python</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Sparkzure</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../../Sparkzure/HomeProjectSparkzure/" class="dropdown-item">Project Sparkzure</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">StreamKraft</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../../StreamKraft/HomeProjectStreamKraft/" class="dropdown-item">Project StreamKraft</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">DevOps</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../../../DevOps/1.1_Hello_GitHub_Actions_Workflow/" class="dropdown-item">Hello GitHub Actions Workflow</a>
</li>
                                    
<li>
    <a href="../../../../../DevOps/1.1_Sample_Workflows/" class="dropdown-item">Sample Workflows</a>
</li>
                                    
<li>
    <a href="../../../../../DevOps/1_GitHub-Concepts/" class="dropdown-item">GitHub Concepts</a>
</li>
                                    
<li>
    <a href="../../../../../DevOps/2.1_Self-Hosted_Agent_Windows/" class="dropdown-item">Self-Hosted-Agent-Windows</a>
</li>
                                    
<li>
    <a href="../../../../../DevOps/2.2_Self-Hosted_Agent_Windows_Container/" class="dropdown-item">Self-Hosted-Agent-Win-Container</a>
</li>
                                    
<li>
    <a href="../../../../../DevOps/2.3_Self-Hosted_Agent_Linux_Container/" class="dropdown-item">Self-Hosted-Agent-Ubuntu-Container</a>
</li>
                                    
<li>
    <a href="../../../../../DevOps/2_Azure-Pipelines/" class="dropdown-item">Azure-Pipelines</a>
</li>
                                    
<li>
    <a href="../../../../../DevOps/ADF_CICD/" class="dropdown-item">ADF-CI-CD</a>
</li>
                                    
<li>
    <a href="../../../../../DevOps/Biceps/" class="dropdown-item">What is Bicep?</a>
</li>
                                    
<li>
    <a href="../../../../../DevOps/CI-CD_in%20ADF/" class="dropdown-item">CI CD in ADF</a>
</li>
                                    
<li>
    <a href="../../../../../DevOps/GitScenarios/" class="dropdown-item">GitScenarios</a>
</li>
                                    
<li>
    <a href="../../../../../DevOps/JenkinsVsGitHubVsAzureDevOps/" class="dropdown-item">Jenkins Vs GitHub Vs Devops</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">DockerAndKubernetes</a>
                                <ul class="dropdown-menu">
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">AirflowDocker</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../../../DockerAndKubernetes/AirflowDocker/1_AirflowDocker/" class="dropdown-item">Airflow</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Kafka</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../../../DockerAndKubernetes/Kafka/2_Confluent%20Kafka/" class="dropdown-item">Confluent Kafka</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Mongodb</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../../../DockerAndKubernetes/Mongodb/3_DockerMongodb/" class="dropdown-item">MongoDB</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">SparkHiveHadoop</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../../../DockerAndKubernetes/SparkHiveHadoop/4.1_PySpark/" class="dropdown-item">PySpark</a>
</li>
            
<li>
    <a href="../../../../../DockerAndKubernetes/SparkHiveHadoop/4.2_Bitnami_Spark_Cluster/" class="dropdown-item">Bitnami Spark</a>
</li>
            
<li>
    <a href="../../../../../DockerAndKubernetes/SparkHiveHadoop/4.3_VSCode_Docker_Connection/" class="dropdown-item">VSCode-Docker-Connection</a>
</li>
            
<li>
    <a href="../../../../../DockerAndKubernetes/SparkHiveHadoop/4.4_Spark_Hive_MSSQL/" class="dropdown-item">Spark-Hive_MSSQL</a>
</li>
            
<li>
    <a href="../../../../../DockerAndKubernetes/SparkHiveHadoop/4.5_Hadoop_Cluster_Single_N_MultiNode/" class="dropdown-item">Hadoop Cluster</a>
</li>
            
<li>
    <a href="../../../../../DockerAndKubernetes/SparkHiveHadoop/4.6_Hive_Hadooop_Postgres_Presto/" class="dropdown-item">bde2020-Hive-Hadoop-Presto</a>
</li>
            
<li>
    <a href="../../../../../DockerAndKubernetes/SparkHiveHadoop/4.7_Hadoop_Hive_SingleNode_MySQL/" class="dropdown-item">Hive-Hadoop-MySQL-SingleNode</a>
</li>
            
<li>
    <a href="../../../../../DockerAndKubernetes/SparkHiveHadoop/4.8_Hive-ApacheOfficial/" class="dropdown-item">Hive Official Setup</a>
</li>
            
<li>
    <a href="../../../../../DockerAndKubernetes/SparkHiveHadoop/4.9.1_Hive_Concepts/" class="dropdown-item">Hive Concepts</a>
</li>
            
<li>
    <a href="../../../../../DockerAndKubernetes/SparkHiveHadoop/4.9.2_Hadoop_Concepts/" class="dropdown-item">Hadoop Concepts</a>
</li>
            
<li>
    <a href="../../../../../DockerAndKubernetes/SparkHiveHadoop/4.9_DockerConcepts/" class="dropdown-item">Docker Misc Concepts</a>
</li>
            
<li>
    <a href="../../../../../DockerAndKubernetes/SparkHiveHadoop/4_Spark-Hive-Hadoop/" class="dropdown-item">4 Spark Hive Hadoop</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">M365</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../../../M365/DocumentumToSharePoint/" class="dropdown-item">Documentum-SharePoint Online</a>
</li>
                                    
<li>
    <a href="../../../../../M365/LicensingExamples/" class="dropdown-item">M365 Licensing Examples</a>
</li>
                                    
<li>
    <a href="../../../../../M365/SPMT/" class="dropdown-item">SPMT - SharePoint Migration</a>
</li>
                                    
<li>
    <a href="../../../../../M365/SharePoint2007FarmUpgrade/" class="dropdown-item">SharePoint Farm Upgrade</a>
</li>
                                    
<li>
    <a href="../../../../../M365/SharePoint2016FarmUpgrade/" class="dropdown-item">SharePoint Farm 2016 Farm Setup</a>
</li>
                                    
<li>
    <a href="../../../../../M365/SharePointEvents/" class="dropdown-item">SharePoint Event Receiver</a>
</li>
                                    
<li>
    <a href="../../../../../M365/SharePointFarmConsolidation/" class="dropdown-item">SharePoint Farm Consolidation</a>
</li>
                                    
<li>
    <a href="../../../../../M365/SharePointFormsOrPowerApps/" class="dropdown-item">SharePoint Forms or PowerApps</a>
</li>
                                    
<li>
    <a href="../../../../../M365/SharePointMiniRole/" class="dropdown-item">SharePoint Mini Role</a>
</li>
                                    
<li>
    <a href="../../../../../M365/SharePointVersionEvolution/" class="dropdown-item">SharePoint Evolution</a>
</li>
                                    
<li>
    <a href="../../../../../M365/SharePointVsOtherECM/" class="dropdown-item">SharePoint vs Other ECMS</a>
</li>
                                    
<li>
    <a href="../../../../../M365/WSS3DocumentUpload/" class="dropdown-item">Project - C# - WSS 3 Bulk ingestion</a>
</li>
                                    
<li>
    <a href="../../../../../M365/oAuthSharePointPython/" class="dropdown-item">Python-oAuth-SharePointOnline</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Microsoft Fabric</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../../../Microsoft-Fabric/DataFactory/" class="dropdown-item">Pipelines&DataFlows</a>
</li>
                                    
<li>
    <a href="../../../../../Microsoft-Fabric/DataScience/" class="dropdown-item">Data Science on Fabric Overview</a>
</li>
                                    
<li>
    <a href="../../../../../Microsoft-Fabric/DataWareHouse/" class="dropdown-item">DataWareHouse</a>
</li>
                                    
<li>
    <a href="../../../../../Microsoft-Fabric/DirectLake/" class="dropdown-item">DirectLake|Fabric|PowerBI</a>
</li>
                                    
<li>
    <a href="../../../../../Microsoft-Fabric/E2EProject/" class="dropdown-item">E2EProject</a>
</li>
                                    
<li>
    <a href="../../../../../Microsoft-Fabric/ETL-OPG-Copydata-JSON-Lakehouse/" class="dropdown-item">JSON-DeltaLake-OPG</a>
</li>
                                    
<li>
    <a href="../../../../../Microsoft-Fabric/ETL-Pyspark-Notebook-Lakehouse/" class="dropdown-item">ETL-Load data into Lakehouse - Pyspark Notebook</a>
</li>
                                    
<li>
    <a href="../../../../../Microsoft-Fabric/FabricAdministration/" class="dropdown-item">Administration</a>
</li>
                                    
<li>
    <a href="../../../../../Microsoft-Fabric/FabricQ%26A/" class="dropdown-item">Fabric Q&A</a>
</li>
                                    
<li>
    <a href="../../../../../Microsoft-Fabric/FabricSparkStreaming/" class="dropdown-item">Spark Streaming</a>
</li>
                                    
<li>
    <a href="../../../../../Microsoft-Fabric/HelloMicrosoftFabric/" class="dropdown-item">Hello Fabric</a>
</li>
                                    
<li>
    <a href="../../../../../Microsoft-Fabric/InspectingDataframes/" class="dropdown-item">Whats in your df?</a>
</li>
                                    
<li>
    <a href="../../../../../Microsoft-Fabric/KQL/" class="dropdown-item">KQL</a>
</li>
                                    
<li>
    <a href="../../../../../Microsoft-Fabric/PandasVsSparkDf/" class="dropdown-item">PandasVsSparkDf</a>
</li>
                                    
<li>
    <a href="../../../../../Microsoft-Fabric/Pyspark_SparkSQL/" class="dropdown-item">Pyspark|SparkSQL CheatSheet</a>
</li>
                                    
<li>
    <a href="../../../../../Microsoft-Fabric/RealTimeAnalytics/" class="dropdown-item">Real-time Intelligence</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Misc</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../../../Misc/10_Fact_vs_Dimension_tables/" class="dropdown-item">Fact Vs Dimension Table</a>
</li>
                                    
<li>
    <a href="../../../../../Misc/1_GoogleCloudSeeUsage/" class="dropdown-item">Check Google Usage</a>
</li>
                                    
<li>
    <a href="../../../../../Misc/2_InstallVMWareFree/" class="dropdown-item">VMWare For Free</a>
</li>
                                    
<li>
    <a href="../../../../../Misc/3_Markdown/" class="dropdown-item">Markdown</a>
</li>
                                    
<li>
    <a href="../../../../../Misc/4_VSTrics/" class="dropdown-item">Visual Studio Code Tricks</a>
</li>
                                    
<li>
    <a href="../../../../../Misc/5_WhichDatastsToUse/" class="dropdown-item">Free Datasets for Data Practice</a>
</li>
                                    
<li>
    <a href="../../../../../Misc/6_RunningAppsInBg/" class="dropdown-item">Running Service in Background</a>
</li>
                                    
<li>
    <a href="../../../../../Misc/7_Azure_Budget/" class="dropdown-item">How to set a Azure Budget</a>
</li>
                                    
<li>
    <a href="../../../../../Misc/9_WhyUbuntuIsGood/" class="dropdown-item">Why Ubuntu is good to learn</a>
</li>
                                    
<li>
    <a href="../../../../../Misc/markdown_pdf_export_html/" class="dropdown-item">Markdown pdf export html</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">MarkdownColor.md</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../../../Misc/MarkdownColor.md/Color/" class="dropdown-item">Color Reference</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Images</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../../../Misc/MarkdownColor.md/images/Color/" class="dropdown-item">Color Palettes</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">MongoDB</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../../../MongoDB/HowMongoDBStoresFiles/" class="dropdown-item">How MongoDB Stores Data</a>
</li>
                                    
<li>
    <a href="../../../../../MongoDB/MongbDB_Vs_Atlas_VsCosmosDB/" class="dropdown-item">MongoDB Vs CosmosDB</a>
</li>
                                    
<li>
    <a href="../../../../../MongoDB/MongoDBCommands/" class="dropdown-item">MongoDB Commands</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">PowerPlatform</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../../../PowerPlatform/CalculationGroups/" class="dropdown-item">CalculationGroups</a>
</li>
                                    
<li>
    <a href="../../../../../PowerPlatform/CustomConnectors/" class="dropdown-item">Building Custom Connectors</a>
</li>
                                    
<li>
    <a href="../../../../../PowerPlatform/ECMCaptureFlow/" class="dropdown-item">Power Automate Or Kofax/Captiva?</a>
</li>
                                    
<li>
    <a href="../../../../../PowerPlatform/EnableMicrosoftSyntex/" class="dropdown-item">Enable Microsoft Syntex on your Office 365 tenant</a>
</li>
                                    
<li>
    <a href="../../../../../PowerPlatform/EnableSyntexOnYourDocumentLibrary/" class="dropdown-item">Create a model on SharePoint - Syntex</a>
</li>
                                    
<li>
    <a href="../../../../../PowerPlatform/GoogleProviderPowerPages/" class="dropdown-item">Google Authentication</a>
</li>
                                    
<li>
    <a href="../../../../../PowerPlatform/HealthClinicDataverseSecurity/" class="dropdown-item">HealthClinicDataverseSecurity</a>
</li>
                                    
<li>
    <a href="../../../../../PowerPlatform/HelloDataverse/" class="dropdown-item">Hello Dataverse</a>
</li>
                                    
<li>
    <a href="../../../../../PowerPlatform/HelloDynamics365/" class="dropdown-item">Dynamics 365 Ecosystem</a>
</li>
                                    
<li>
    <a href="../../../../../PowerPlatform/HelloPowerPlatform/" class="dropdown-item">PowerPlatform Ecosystem</a>
</li>
                                    
<li>
    <a href="../../../../../PowerPlatform/ModelDrivenApps/" class="dropdown-item">Model-Driven Apps</a>
</li>
                                    
<li>
    <a href="../../../../../PowerPlatform/OnPremiseGateway/" class="dropdown-item">Onpremise Gateway</a>
</li>
                                    
<li>
    <a href="../../../../../PowerPlatform/PowerAutomateIsWorkflowTeams/" class="dropdown-item">Workflow is Power Automate</a>
</li>
                                    
<li>
    <a href="../../../../../PowerPlatform/PowerPlatformAdminCentral/" class="dropdown-item">PowerPlatformAdminCentral</a>
</li>
                                    
<li>
    <a href="../../../../../PowerPlatform/PowerPlatformQ%26A/" class="dropdown-item">Pl-900-Q&A</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">DocumentIntelligence</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../../../PowerPlatform/DocumentIntelligence/AAIDI_AzureCognitiveSearch/" class="dropdown-item">Integrate AI Search and Azure AI Document Intelligence</a>
</li>
            
<li>
    <a href="../../../../../PowerPlatform/DocumentIntelligence/AAIDI_Q%26A/" class="dropdown-item">AAIDI Q&A</a>
</li>
            
<li>
    <a href="../../../../../PowerPlatform/DocumentIntelligence/AzureAIDocumentIntelligence/" class="dropdown-item">Azure AI Document Intelligence</a>
</li>
            
<li>
    <a href="../../../../../PowerPlatform/DocumentIntelligence/DocumentAutomation/" class="dropdown-item">Document automation base kit</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Python</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../../../Python/1.0_Sets/" class="dropdown-item">Sets</a>
</li>
                                    
<li>
    <a href="../../../../../Python/1.1.0_assert_methods/" class="dropdown-item">assert methods</a>
</li>
                                    
<li>
    <a href="../../../../../Python/1.1.1_decorators/" class="dropdown-item">decorators</a>
</li>
                                    
<li>
    <a href="../../../../../Python/1.1.2_argv/" class="dropdown-item">argv</a>
</li>
                                    
<li>
    <a href="../../../../../Python/1.1.3_Diff_And_Patch/" class="dropdown-item">diffAndpatch</a>
</li>
                                    
<li>
    <a href="../../../../../Python/1.1.3_error_handling/" class="dropdown-item">Error Handling</a>
</li>
                                    
<li>
    <a href="../../../../../Python/1.1.4_pdb/" class="dropdown-item">pdb</a>
</li>
                                    
<li>
    <a href="../../../../../Python/1.1.5_pyformat/" class="dropdown-item">format method</a>
</li>
                                    
<li>
    <a href="../../../../../Python/1.10_Func_Modl_Summary/" class="dropdown-item">LFM Summary</a>
</li>
                                    
<li>
    <a href="../../../../../Python/1.11_ifelifelse/" class="dropdown-item">ifelifelse</a>
</li>
                                    
<li>
    <a href="../../../../../Python/1.12_Operators/" class="dropdown-item">operators</a>
</li>
                                    
<li>
    <a href="../../../../../Python/1.13_For_Loops/" class="dropdown-item">for loops</a>
</li>
                                    
<li>
    <a href="../../../../../Python/1.14_enumerate/" class="dropdown-item">1.14 enumerate</a>
</li>
                                    
<li>
    <a href="../../../../../Python/1.15_range_function/" class="dropdown-item">range function</a>
</li>
                                    
<li>
    <a href="../../../../../Python/1.16_built_in_functions/" class="dropdown-item">1.16 built in functions</a>
</li>
                                    
<li>
    <a href="../../../../../Python/1.17_withStatement/" class="dropdown-item">with statement</a>
</li>
                                    
<li>
    <a href="../../../../../Python/1.18_unittest_pytest/" class="dropdown-item">pytest</a>
</li>
                                    
<li>
    <a href="../../../../../Python/1.19_if_name_main.md/" class="dropdown-item">if__name__main</a>
</li>
                                    
<li>
    <a href="../../../../../Python/1.1_Tuples/" class="dropdown-item">Tuples</a>
</li>
                                    
<li>
    <a href="../../../../../Python/1.2_Tuples_Advanced/" class="dropdown-item">Advanced Tuples</a>
</li>
                                    
<li>
    <a href="../../../../../Python/1.3_List/" class="dropdown-item">1.3 List</a>
</li>
                                    
<li>
    <a href="../../../../../Python/1.4_Dictionaries/" class="dropdown-item">1.4 Dictionaries</a>
</li>
                                    
<li>
    <a href="../../../../../Python/1.5_Lamda_Functions/" class="dropdown-item">Lamda Functions</a>
</li>
                                    
<li>
    <a href="../../../../../Python/1.9_Func_Modl_Lib/" class="dropdown-item">Library-Modules-Funcs</a>
</li>
                                    
<li>
    <a href="../../../../../Python/1_Python/" class="dropdown-item">Python</a>
</li>
                                    
<li>
    <a href="../../../../../Python/Linux/" class="dropdown-item">Essential Unix Commands</a>
</li>
                                    
<li>
    <a href="../../../../../Python/Pyspark/" class="dropdown-item">PySpark</a>
</li>
                                    
<li>
    <a href="../../../../../Python/PythonScripts/" class="dropdown-item">Python Sample Scripts</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">GraphAPIJupyter</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../../../Python/GraphAPIJupyter/GraphAPIUsingJuputer/" class="dropdown-item">Graph API - Juputer</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">SQL</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../../../SQL/1.0.0_dbt/" class="dropdown-item">dbt</a>
</li>
                                    
<li>
    <a href="../../../../../SQL/1.0.1_setup_simple_dbt_project/" class="dropdown-item">1.0.1 setup simple dbt project</a>
</li>
                                    
<li>
    <a href="../../../../../SQL/FlatFileSoure/" class="dropdown-item">FlatFileSoure</a>
</li>
                                    
<li>
    <a href="../../../../../SQL/InputAndOutputProperties/" class="dropdown-item">Understanding External Columns and Output Columns in SSIS</a>
</li>
                                    
<li>
    <a href="../../../../../SQL/MSSQL_Versions/" class="dropdown-item">SQL Server Versions</a>
</li>
                                    
<li>
    <a href="../../../../../SQL/Project_1-ETL-CSV-MSSQL/" class="dropdown-item">Project 1 - ETL Flat Files to MSSQL</a>
</li>
                                    
<li>
    <a href="../../../../../SQL/Project_2-UsingWebServicesInSSIS/" class="dropdown-item">Project 2 - Web Service SSIS Script Task</a>
</li>
                                    
<li>
    <a href="../../../../../SQL/SQL/" class="dropdown-item">Spark-SQL</a>
</li>
                                    
<li>
    <a href="../../../../../SQL/SQL_AdvancedTopics/" class="dropdown-item">SQL Advanced Topics</a>
</li>
                                    
<li>
    <a href="../../../../../SQL/SSIS/" class="dropdown-item">SQL Server Integration Services</a>
</li>
                                    
<li>
    <a href="../../../../../SQL/SSRS/" class="dropdown-item">SSRS</a>
</li>
                                    
<li>
    <a href="../../../../../SQL/Windows_Functions/" class="dropdown-item">Window Functions</a>
</li>
                                    
<li>
    <a href="../../../../../SQL/connecting-with-dbt/" class="dropdown-item">Connect Local dbt with MSSQL Server</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Spark DataBricks</a>
                                <ul class="dropdown-menu">
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">1.0 Spark</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../../../Spark-DataBricks/1.0_Spark/1.0_Spark-Concepts/" class="dropdown-item">Spark</a>
</li>
            
<li>
    <a href="../../../../../Spark-DataBricks/1.0_Spark/1.10_Scala_Cheatsheet/" class="dropdown-item">Scala Cheatsheet</a>
</li>
            
<li>
    <a href="../../../../../Spark-DataBricks/1.0_Spark/1.11_Spark_Interview_Questions/" class="dropdown-item">Spark Interview Questions</a>
</li>
            
<li>
    <a href="../../../../../Spark-DataBricks/1.0_Spark/1.12_Spark_Shuffle/" class="dropdown-item">Shuffle in Spark</a>
</li>
            
<li>
    <a href="../../../../../Spark-DataBricks/1.0_Spark/1.13_SparkDatabaseTablesCatalogsMetastore/" class="dropdown-item">Spark DB-Tables-Metastore-Catalogs</a>
</li>
            
<li>
    <a href="../../../../../Spark-DataBricks/1.0_Spark/1.14_Q%26A/" class="dropdown-item">Q&A</a>
</li>
            
<li>
    <a href="../../../../../Spark-DataBricks/1.0_Spark/1.15_CommonPysparkTopics/" class="dropdown-item">PySpark Concepts I</a>
</li>
            
<li>
    <a href="../../../../../Spark-DataBricks/1.0_Spark/1.16_ConnectingSparkToHive/" class="dropdown-item">Spark-Hive-Delta Connection</a>
</li>
            
<li>
    <a href="../../../../../Spark-DataBricks/1.0_Spark/1.1_NarrowVsWideTransformation/" class="dropdown-item">Narrow_Vs_Wide_Transformation</a>
</li>
            
<li>
    <a href="../../../../../Spark-DataBricks/1.0_Spark/1.2_SparkArchitecture/" class="dropdown-item">Spark Architecture</a>
</li>
            
<li>
    <a href="../../../../../Spark-DataBricks/1.0_Spark/1.3_persist_and_cache/" class="dropdown-item">persist and cache</a>
</li>
            
<li>
    <a href="../../../../../Spark-DataBricks/1.0_Spark/1.4_broadcastvariables/" class="dropdown-item">Broadcast Variables</a>
</li>
            
<li>
    <a href="../../../../../Spark-DataBricks/1.0_Spark/1.5_DataSkewHandling/" class="dropdown-item">Data Skew in Spark</a>
</li>
            
<li>
    <a href="../../../../../Spark-DataBricks/1.0_Spark/1.6_dropna_fillna_df_missing_val_handling/" class="dropdown-item">dropna and fillna</a>
</li>
            
<li>
    <a href="../../../../../Spark-DataBricks/1.0_Spark/1.7_distinct_dropDuplicate_windowsFunc/" class="dropdown-item">Removing Duplicates - PySpark</a>
</li>
            
<li>
    <a href="../../../../../Spark-DataBricks/1.0_Spark/1.8_Partition_Grouping/" class="dropdown-item">Partition And Bucket</a>
</li>
            
<li>
    <a href="../../../../../Spark-DataBricks/1.0_Spark/1.9_RDD_Dataframe_Dataset/" class="dropdown-item">RDD-Dataframe-Dataset</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Install Pyspark Windows</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../../../Spark-DataBricks/1.0_Spark/Install-Pyspark-Windows/Install-Pyspark-Windows/" class="dropdown-item">Install-PySpark-Windows</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">2.0 Spark To ADLS</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../../../Spark-DataBricks/2.0_Spark_To_ADLS/2.0_Spark_To_ADLS/" class="dropdown-item">Spark-To-ADLS-Connection</a>
</li>
            
<li>
    <a href="../../../../../Spark-DataBricks/2.0_Spark_To_ADLS/2.1_Spark-To_ADLS_Summary/" class="dropdown-item">Spark-To-ADLS-Summary</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">3.0 Databricks</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../../../Spark-DataBricks/3.0_Databricks/3.0_Databricks_Concepts/" class="dropdown-item">Databricks</a>
</li>
            
<li>
    <a href="../../../../../Spark-DataBricks/3.0_Databricks/3.1_Catalogs_And_Metastore/" class="dropdown-item">Hive Metastore and the hive_metastore folder</a>
</li>
            
<li>
    <a href="../../../../../Spark-DataBricks/3.0_Databricks/3.2_AuthenticationMethods/" class="dropdown-item">Authentication Method</a>
</li>
            
<li>
    <a href="../../../../../Spark-DataBricks/3.0_Databricks/3.3_Mount_ADLS_on_Databricks/" class="dropdown-item">Mount ADLS on Databricks</a>
</li>
            
<li>
    <a href="../../../../../Spark-DataBricks/3.0_Databricks/3.4_Databricks_Secret_Scope/" class="dropdown-item">Secret Scope</a>
</li>
            
<li>
    <a href="../../../../../Spark-DataBricks/3.0_Databricks/3.5_Databricks_SQL/" class="dropdown-item">CREATE TABLE USING</a>
</li>
            
<li>
    <a href="../../../../../Spark-DataBricks/3.0_Databricks/3.6_DatabricksMagicCommands/" class="dropdown-item">Magic Commands</a>
</li>
            
<li>
    <a href="../../../../../Spark-DataBricks/3.0_Databricks/3.7_DeltaLake_And_Lakehouse/" class="dropdown-item">Delta Lake And Lakehouse</a>
</li>
            
<li>
    <a href="../../../../../Spark-DataBricks/3.0_Databricks/4.8_Databricks_ProjectA1/" class="dropdown-item">Project-A</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">4.0 Hive</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../../../Spark-DataBricks/4.0_Hive/Hive_Concepts/" class="dropdown-item">Hive Concepts</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">StreamProcessing</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../../../StreamProcessing/1.0_What_Is_Stream_Processing/" class="dropdown-item">1.0 What Is Stream Processing</a>
</li>
                                    
<li>
    <a href="../../../../../StreamProcessing/2.0.1_EventHubs_Vs_Kafka/" class="dropdown-item">EventHubs Vs Kafka</a>
</li>
                                    
<li>
    <a href="../../../../../StreamProcessing/2.0.2_Project_Hello_EventHubs/" class="dropdown-item">Overview</a>
</li>
                                    
<li>
    <a href="../../../../../StreamProcessing/2.0.3_EventHubsLocalEmulator/" class="dropdown-item">Event Hubs Emulator - End to End</a>
</li>
                                    
<li>
    <a href="../../../../../StreamProcessing/2.0_Azure_EventHubs/" class="dropdown-item">EventHubs</a>
</li>
                                    
<li>
    <a href="../../../../../StreamProcessing/4_EventProcessingChoices/" class="dropdown-item">Stream Processing Product Combination</a>
</li>
                                    
<li>
    <a href="../../../../../StreamProcessing/5_AmazonKinesisSparkIntegration/" class="dropdown-item">5 AmazonKinesisSparkIntegration</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Synapse ADF</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../../../Synapse-ADF/1.0_SynapseConcepts/" class="dropdown-item">SynapseConcepts</a>
</li>
                                    
<li>
    <a href="../../../../../Synapse-ADF/1.1_Pools/" class="dropdown-item">Pools</a>
</li>
                                    
<li>
    <a href="../../../../../Synapse-ADF/1.3_ETL%20Pipelines/" class="dropdown-item">ETL Pipelines</a>
</li>
                                    
<li>
    <a href="../../../../../Synapse-ADF/1.4_Copy-data-tool/" class="dropdown-item">ADF Copy task - When to use</a>
</li>
                                    
<li>
    <a href="../../../../../Synapse-ADF/1.5_IntegrationRuntime/" class="dropdown-item">Integration Runtime</a>
</li>
                                    
<li>
    <a href="../../../../../Synapse-ADF/1.6_DB_Types_In_Synapse/" class="dropdown-item">Types of DB in Synapse</a>
</li>
                                    
<li>
    <a href="../../../../../Synapse-ADF/1.7_SynapseLakeDBAndLakehouse/" class="dropdown-item">Lake DB-Lakehouse-Delta Lake</a>
</li>
                                    
<li>
    <a href="../../../../../Synapse-ADF/1.8_ADF_SA_Evolution/" class="dropdown-item">ADF & Synapse Evolution</a>
</li>
                                    
<li>
    <a href="../../../../../Synapse-ADF/1.9_CETAS/" class="dropdown-item">CETAS</a>
</li>
                                    
<li>
    <a href="../../../../../Synapse-ADF/2.0_Projects/" class="dropdown-item">2.0 Projects</a>
</li>
                                    
<li>
    <a href="../../../../../Synapse-ADF/2.1_Pipeline-Local-ADLS/" class="dropdown-item">CopyData-LocalToADLS</a>
</li>
                                    
<li>
    <a href="../../../../../Synapse-ADF/2.2_PySparkWarehouse/" class="dropdown-item">PysparkWarehouse</a>
</li>
                                    
<li>
    <a href="../../../../../Synapse-ADF/2.3_ADF_RestAPI_Databricks/" class="dropdown-item">2.3 ADF RestAPI Databricks</a>
</li>
                                    
<li>
    <a href="../../../../../Synapse-ADF/2.4_Monitor_ADF_Pipelines/" class="dropdown-item">ADF Pipelines Monitoring</a>
</li>
                                    
<li>
    <a href="../../../../../Synapse-ADF/2.5_ADF_Pipeline_Copy/" class="dropdown-item">Export ADF Pipeline</a>
</li>
                                    
<li>
    <a href="../../../../../Synapse-ADF/Q%26A/" class="dropdown-item">100 Synapse FAQs</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../../../HomeProjectAzureSkyWeather/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../nav2_AzureFunctions/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="2"><a href="#table-of-contents" class="nav-link">Table of Contents</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#project-azureskyweather-part-1a-using-azure-http-triggered-function" class="nav-link">Project AzureSkyWeather. Part 1A: Using Azure HTTP-Triggered Function</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#overview" class="nav-link">Overview</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#choice-of-azure-services-for-data-ingestion" class="nav-link">Choice of Azure Services For Data Ingestion</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#lets-ready-the-prerequisites" class="nav-link">Let's ready the prerequisites</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#development-and-deploymment" class="nav-link">Development and Deploymment</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#common-errors" class="nav-link">Common Errors</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#appendix" class="nav-link">Appendix</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h2 id="table-of-contents">Table of Contents</h2>
<ul>
<li><a href="#project-azureskyweather-part-1a-using-azure-http-triggered-function">Project AzureSkyWeather. Part 1A: Using Azure HTTP-Triggered Function</a></li>
<li><a href="#overview">Overview</a></li>
<li><a href="#choice-of-azure-services-for-data-ingestion">Choice of Azure Services For Data Ingestion</a></li>
<li><a href="#lets-ready-the-prerequisites">Let's ready the prerequisites</a><ul>
<li><a href="#get-the-weather-api">Get the Weather API</a></li>
<li><a href="#set-up-azure-blobadlsg2-storage">Set Up Azure Blob(ADLSG2) Storage</a></li>
<li><a href="#create-the-azure-function-app">Create the Azure Function App</a></li>
<li><a href="#prepare-vs-code-and-local-enviroment-for-azure-function-development-and-testing">Prepare VS Code and local enviroment for Azure Function Development and Testing</a></li>
<li><a href="#azure-functions-extension-for-visual-studio-code">Azure Functions Extension For Visual Studio Code</a></li>
<li><a href="#python-extension-for-visual-studio-code">Python Extension for Visual Studio Code</a></li>
<li><a href="#azurite">Azurite</a></li>
<li><a href="#azure-functions-sdk">azure-functions SDK</a></li>
<li><a href="#azure-storage-blob-library-for-local-testing"><code>azure-storage-blob</code> library for local testing</a></li>
</ul>
</li>
<li><a href="#development-and-deploymment">Development and Deploymment</a><ul>
<li><a href="#create-the-python-based-azure-function">Create the Python-based Azure Function</a></li>
<li><a href="#write-our-custom-logic-in-the-azure-function">Write our custom logic in the Azure Function</a></li>
<li><a href="#include--azure-storage-blob-in-requirementstxt">Include  <code>azure-storage-blob</code> in requirements.txt</a></li>
<li><a href="#test-our-azure-function">Test Our Azure Function</a></li>
<li><a href="#create-azure-function-app">Create Azure Function App</a></li>
<li><a href="#deploy-the-azure-function-to-the-app">Deploy the Azure Function To The App</a></li>
<li><a href="#schedule-the-function-using-azure-logic-apps">Schedule the Function using Azure Logic Apps</a></li>
<li><a href="#post-deployment-monitoring">Post-deployment Monitoring</a></li>
</ul>
</li>
<li><a href="#common-errors">Common Errors</a><ul>
<li><a href="#azurewebjobsstorage-app-setting-is-not-present">"AzureWebJobsStorage" app setting is not present</a></li>
<li><a href="#logic-apps-while-trying-to-add-azure-function---no-resources-of-this-type-found-under-this-subscription">Logic Apps while trying to add azure function - No resources of this type found under this subscription</a></li>
<li><a href="#logic-apps-job-shows-running-status-indefinately">Logic Apps Job shows Running status indefinately</a></li>
</ul>
</li>
<li><a href="#appendix">Appendix</a><ul>
<li><a href="#detailed-project-summary">Detailed Project Summary</a></li>
<li><a href="#choice-of-storage-why-azure-data-lake">Choice of storage. Why Azure Data Lake?</a></li>
<li><a href="#creating-an-azure-functions-app-using-azure-portal">Creating an Azure Functions App Using Azure Portal</a></li>
<li><a href="#azure-function-vs-code-project-folder-structure">Azure Function VS-Code Project Folder Structure</a></li>
<li><a href="#structure-of-the-function-function_apppy">Structure of the function function_app.py.</a></li>
<li><a href="#some-details-of-azure-functions-library">Some details of <code>azure-functions</code> library</a></li>
<li><a href="#azurite-extension">Azurite Extension</a></li>
<li><a href="#calculate-azure-logic-apps-cost">Calculate Azure Logic Apps Cost</a></li>
</ul>
</li>
</ul>
<hr />
<h1 id="project-azureskyweather-part-1a-using-azure-http-triggered-function">Project AzureSkyWeather. Part 1A: Using Azure HTTP-Triggered Function</h1>
<h2 id="overview">Overview</h2>
<p>In this project we use an  <strong>Azure HTTP Function</strong> to get the current <strong>weather data</strong> from <code>weatherapi.com</code>. Developed in <strong>Visual Studio Code</strong> using the <strong>Python V2 programming model</strong>, it stores data as hourly-named <strong>JSON files</strong> in <strong>Azure Data Lake</strong>. It's <strong>HTTP-triggered</strong>, with <strong>Azure Logic Apps</strong> managing the periodic fetch schedule. The function logs activities and handles errors, and if provided a 'name' in a request, it sends a <strong>personalized greeting</strong>. For a detailed overview, please see the <a href="#Comprehensive-Project-Summary">Comprehensive Project Summary</a> in the appendix.</p>
<h2 id="choice-of-azure-services-for-data-ingestion">Choice of Azure Services For Data Ingestion</h2>
<p>We developed the Azure Function in Visual Studio Code on Windows using the <strong>Python V2 programming model</strong>. The V2 model simplifies Azure Function app development by allowing scheduling, binding, and the entire logic to be written in a main Python file, contrasting with V1 which requires additional setup in a JSON file. We sourced our weather data from <strong>weatherapi.com</strong>, a cost-free option that doesn't require credit card and lets you call the api almost indefinately. HTTP-triggered functions need scheduling, unlike Timer-triggered ones. We managed this with Azure Logic Apps. In terms of cost, the Azure function with a Timer-trigger is the most economical, followed by the HTTP-Triggered Azure function paired with Azure Logic App-based scheduling. For a sample cost breakdown of the Logic App, please refer to the section <a href="#Calculate-Azure-Logic-Apps-Cost">Calculate Azure Logic Apps Cost</a>. Even so, for a simple hourly workflow, the expense remains minimal. It's worth noting that other options, especially Databricks, can be considerably pricier. Similarly, ADF and Synapse can also come at a higher cost. Here's a brief overview of the available options for creating an app like this:</p>
<ul>
<li>
<p><strong>Azure Functions (Python V2):</strong> These are ideal for small to moderate workloads and straightforward data retrieval tasks. Most of the logic is self-contained within the main Python file[V2 model], making it a cost-effective, easy-to-build choice.</p>
</li>
<li>
<p><strong>Azure Data Factory or Azure Databricks:</strong> For more complex workflows and efficient handling of larger data volumes, Azure Data Factory and Azure Databricks offer powerful options. However, they may incur higher operational costs due to their capabilities and scalability.</p>
</li>
<li>
<p><strong>Azure Logic Apps:</strong> Positioned between the other options, Azure Logic Apps are suitable for uncomplicated workflows with moderate data volumes, offering a visual workflow designer for easy setup. Their cost varies based on the number of steps. While here we use Azure Functions for core logic and Logic Apps for scheduling, some opt for a single solution, like a timer-triggered Azure App or fully utilizing an Azure Logic App.</p>
</li>
</ul>
<h2 id="lets-ready-the-prerequisites">Let's ready the prerequisites</h2>
<h3 id="get-the-weather-api">Get the Weather API</h3>
<p>First, create an account at <a href="https://www.weatherapi.com/">weatherapi.com</a>. Then, navigate to <a href="https://www.weatherapi.com/my/">My Account</a>. Copy the API key and keep it handy for later use.</p>
<p><img alt="Alt text" src="images\image.png" /></p>
<p>We chose <a href="https://www.weatherapi.com/">weatherapi.com</a> because it doesn't require sign-ups, and it offers most of the features we needed.
    <img alt="Alt text" src="images\image-40.png" /></p>
<h3 id="set-up-azure-blobadlsg2-storage">Set Up Azure Blob(ADLSG2) Storage</h3>
<p>In the Azure portal, create a resource group, a storage account, and a blob container named <code>weather-http</code>. This is where the Azure Function will store the .json weather files. I've omitted the detailed steps here to focus on the main process. Remember: <code>Enable Hierarchical Namespace</code>. This will turn your storage into a Data Lake.</p>
<h3 id="create-the-azure-function-app">Create the Azure Function App</h3>
<p>Azure Function App is a container for Azure Functions. It can be set up before or during the function deployment. I recommend deploying during development and creating a distinct Function App for each function to prevent overwriting. I will share 'run-time' deployment steps later in this tutorial.</p>
<p><img alt="Alt text" src="images\image-62.png" /></p>
<blockquote>
<p>Sneak Peek: Deploying a Function App via VS Code.</p>
</blockquote>
<h3 id="prepare-vs-code-and-local-enviroment-for-azure-function-development-and-testing">Prepare VS Code and local enviroment for Azure Function Development and Testing</h3>
<p>Install the following VS studio extensions:</p>
<h4 id="azure-functions-extension-for-visual-studio-code">Azure Functions Extension For Visual Studio Code</h4>
<p><img alt="Alt text" src="images\image-16.png" /></p>
<h4 id="python-extension-for-visual-studio-code">Python Extension for Visual Studio Code</h4>
<p>Note: This is just the extension, not the actual Python interpreter. I assume you already have Python installed. For my work, I use the Conda distribution of Python.
<img alt="Alt text" src="images\image-17.png" /></p>
<h4 id="azurite">Azurite</h4>
<p><img alt="Alt text" src="images\image-18.png" /></p>
<h4 id="azure-functions-sdk">azure-functions SDK</h4>
<p>When testing our Azure Function locally, the system will look for the <code>azure-functions</code> SDK/package/library in the local system. This package must be present in the Python environment you're using; otherwise, you might encounter errors like: </p>
<p><img alt="Alt text" src="images\image-13.png" /></p>
<p>As I use the Conda version of Python, I executed <code>pip install azure-functions</code> in the Anaconda prompt (with admin privileges).
<img alt="Alt text" src="images\image-14.png" /></p>
<h4 id="azure-storage-blob-library-for-local-testing"><code>azure-storage-blob</code> library for local testing</h4>
<p>As we are using Azure Blob Functions, we need to ensure that the Azure Blob Storage library/package/sdk is available during local testing . To install it locally using pip <code>install azure-storage-blob</code>.</p>
<h2 id="development-and-deploymment">Development and Deploymment</h2>
<h3 id="create-the-python-based-azure-function">Create the Python-based Azure Function</h3>
<p>To create an Azure Function in Visual Studio Code, follow these steps:</p>
<ul>
<li>Open Visual Studio Code and access the Azure icon in the Activity bar.</li>
<li>In the Workspace (local) area, click the thunder button, and select <strong>Create New Project</strong>.</li>
</ul>
<p><img alt="Alt text" src="images\image-21.png" /></p>
<ul>
<li>Choose a local folder location for our project.</li>
</ul>
<p><img alt="Alt text" src="images\image-41.png" /></p>
<ul>
<li>Select <strong>Python</strong> as the programming language.</li>
</ul>
<p><img alt="Alt text" src="images\image-42.png" /></p>
<ul>
<li>Opt for <strong>Model V2</strong> as the programming model.</li>
</ul>
<p><img alt="Alt text" src="images\image-43.png" /></p>
<ul>
<li>
<p>Choose the Python environment that you intend to use. Make sure to select the correct environment with all the required dependencies and packages e.g. Azure Functions.</p>
</li>
<li>
<p>Select <strong>HTTP trigger</strong></p>
</li>
</ul>
<p><img alt="Alt text" src="images\image-63.png" /></p>
<ul>
<li>Provide a unique name for our function.</li>
</ul>
<p><img alt="Alt text" src="images\image-45.png" /></p>
<ul>
<li>VS Code will generate a complete project structure, including all the necessary components for developing our function.</li>
</ul>
<p><img alt="Alt text" src="images\image-66.png" /></p>
<h3 id="write-our-custom-logic-in-the-azure-function">Write our custom logic in the Azure Function</h3>
<p>Let's dive into our weather code! Replace <code>function_app.py</code> with the following. Remember to fill in <code>&lt;your_connection_string&gt;</code> and <code>&lt;weather_api_endpoint&gt;</code> with the actual details.</p>
<pre><code class="language-python"># Import necessary libraries and modules
import logging, requests  # logging for log management, requests to make HTTP requests
from datetime import datetime  # datetime for handling date and time operations
import azure.functions as func  # Azure functions library
from azure.storage.blob import BlobServiceClient  # Azure blob storage client library

# Set the authentication level for the Azure function
app = func.FunctionApp(http_auth_level=func.AuthLevel.FUNCTION)

# Define the route for the Azure HTTP function
@app.route(route=&quot;FetchWeatherHTTP&quot;)
def FetchWeatherHTTP(req: func.HttpRequest) -&gt; func.HttpResponse:
    # Log that the function is being processed
    logging.info('Python HTTP trigger function processed a request.')

    # Generate a filename for the weather data based on the current hour. This helps organize and retrieve data efficiently.
    weatherFileName = datetime.now().strftime(&quot;%Y-%m-%d-%H.json&quot;)

    # Create a connection to Azure Blob Storage using the connection string
    # You can obtain the connection string from the Azure Portal: Storage Account -&gt; Access Keys -&gt; key1 -&gt; Connection String
    connection_string = &quot;&lt;your_connection_string&gt;&quot;
    blob_service_client = BlobServiceClient.from_connection_string(connection_string)
    blob_client = blob_service_client.get_blob_client(container=&quot;weather-http&quot;, blob=weatherFileName)

    # Fetch weather data using the WeatherAPI endpoint. Replace 'YOUR_API_KEY' with your actual API key and 'LOCATION' with your desired location.
    response = requests.get(&quot;&lt;weather_api_endpoint&gt;&quot;)
    # Check if the data fetch was successful. If not, log an error and return a failure response.
    if response.status_code != 200:
        logging.error('Failed to fetch weather data.')
        return func.HttpResponse(&quot;Failed to fetch weather data.&quot;, status_code=500)

    # Parse the response content into JSON format
    data = response.json()

    # Try to store the fetched weather data into Azure Blob Storage.
    # If there's an error (e.g., network issue, permission issue), it'll log the error and return a failure response.
    try:
        blob_client.upload_blob(str(data), overwrite=True)
    except Exception as e:
        logging.error(f&quot;Error uploading data to Blob Storage: {e}&quot;)
        return func.HttpResponse(&quot;Error storing weather data.&quot;, status_code=500)

    # Check if there's a 'name' parameter in the request.
    # This is a feature that was initially scaffolded by VS Code to demonstrate how to handle request parameters.
    name = req.params.get('name')
    if not name:
        # If 'name' isn't in the request's parameters, check the request body.
        try:
            req_body = req.get_json()
        except ValueError:
            pass
        else:
            name = req_body.get('name')

    # If a name is provided, return a personalized greeting.
    # If not, return a generic success message.
    if name:
        return func.HttpResponse(f&quot;Hello, {name}. Weather data fetched and stored successfully.&quot;)
    else:
        return func.HttpResponse(
             &quot;Weather data fetched and stored successfully. Pass a name in the query string or in the request body for a personalized response.&quot;,
             status_code=200
        )
</code></pre>
<h3 id="include-azure-storage-blob-in-requirementstxt">Include  <code>azure-storage-blob</code> in requirements.txt</h3>
<p>We've wrapped up the main coding. Now, just add <code>azure-storage-blob</code> to <code>requirements.txt</code> to instruct the deployment to install the library in Azure.</p>
<p><img alt="Alt text" src="images\image-50.png" /></p>
<h3 id="test-our-azure-function">Test Our Azure Function</h3>
<ul>
<li>
<p>It's time to test our Azure Function. Follow these steps:</p>
</li>
<li>
<p>Open Visual Studio Code and press <code>Ctrl+Shift+P</code>. Select <strong>Azurite: Start</strong>.</p>
<p><img alt="Alt text" src="images\image-22.png" /></p>
<p>This action starts the Azurite Blob Service. You can check the status at the bottom right corner of VS Code, where you should see something like this:</p>
<p><img alt="Alt text" src="images\image-51.png" /></p>
</li>
<li>
<p>Start debugging by pressing <code>F5</code>. Then, on the left, click the Azure icon. Navigate to the workspace and locate our function (refresh if needed). Right-click the function and select <strong>Execute</strong>.</p>
<p><img alt="Alt text" src="images\image-52.png" /></p>
</li>
<li>
<p>If the execution is successful, you'll see an output similar to this:</p>
<p><img alt="Alt text" src="images\image-53.png" /></p>
<p>Additionally, a JSON file will be created in our container:</p>
<p><img alt="Alt text" src="images\image-54.png" /></p>
</li>
</ul>
<h3 id="create-azure-function-app">Create Azure Function App</h3>
<p>For Azure Functions, we need a Function Appa container for them. Instead of setting this up on the Azure Portal, I like using Visual Studio Code for its simplicity during initial deployment. Here's how to set it up with VS Code:</p>
<ul>
<li><strong>Launch Setup in Visual Studio</strong>:</li>
<li>Click the Azure icon, then select the thunder icon in the workspace.</li>
<li>Choose <code>Create Function app in Azure..(Advanced)</code>.
  <img alt="Alt text" src="images\image-73.png" /></li>
<li>
<p><strong>Comment</strong>: The icon might not always be visible; ensure your project is 'loaded' properly.</p>
</li>
<li>
<p><strong>Name Your Function App</strong>:</p>
</li>
<li>
<p>Assign a unique name to your function app.
  <img alt="Alt text" src="images\image-67.png" /></p>
</li>
<li>
<p><strong>Select the Right Runtime</strong>:</p>
</li>
<li>
<p>If you're working on an Azure Function in Python, ensure you set the runtime environment to Python.
  <img alt="Alt text" src="images\image-68.png" /></p>
</li>
<li>
<p><strong>Configure the resource group</strong>:</p>
</li>
<li>
<p>Decide on using an existing resource group or create a new one. Ensure consistency in the chosen region.
  <img alt="Alt text" src="images\image-69.png" /></p>
</li>
<li>
<p><strong>Choose the hosting Plan</strong>:</p>
</li>
<li>Carefully select the hosting plan. If you're budget-conscious, consider the Consumption-based plan. 
  <img alt="Alt text" src="images\image-70.png" /></li>
<li><strong>Comment</strong>: Based on my experience, running our current project, 24 executions for around seven days costed me few dollars. But, you case cuold be different. Overall, I found </li>
<li><strong>Choose Storage account</strong>:</li>
<li>
<p>Allocate a storage account for the Azure Function App. Using separate storage accounts for each function app simplifies the structure.
  <img alt="Alt text" src="images\image-72.png" /></p>
</li>
<li>
<p><strong>Opt for Enhanced Monitoring</strong>:</p>
</li>
<li>Incorporate an Application Insights resource for detailed insights and improved monitoring.</li>
</ul>
<p>After these steps, your Azure Function App is set up. The next phase involves deploying your Azure Function to this newly created app.</p>
<h3 id="deploy-the-azure-function-to-the-app">Deploy the Azure Function To The App</h3>
<ul>
<li>The deployment process is straightforward. In the workspace, click the thunder icon and choose <strong>Deploy to Function App</strong>.</li>
</ul>
<p><img alt="Alt text" src="images\image-55.png" /></p>
<ul>
<li>Visual Studio Code will display the Function App where you can deploy our Azure Function. Select the Function App.</li>
</ul>
<p><img alt="Alt text" src="images\image-56.png" /></p>
<ul>
<li>Click <strong>Deploy</strong></li>
</ul>
<p><img alt="Alt text" src="images\image-57.png" /></p>
<p>Note: This will overwrite ANY function present in the Azure Func app.</p>
<ul>
<li>After successful deployment, you will see output like the following in the console:</li>
</ul>
<p><img alt="Alt text" src="images\image-58.png" /></p>
<ul>
<li>And you can see the Function inside the Azure Function App:</li>
</ul>
<p><img alt="Alt text" src="images\image-59.png" /></p>
<h3 id="schedule-the-function-using-azure-logic-apps">Schedule the Function using Azure Logic Apps</h3>
<ul>
<li><strong>Create a Logic App in the Azure Portal</strong> and name it <code>Anything-Meaningful-Haha</code>.</li>
<li><strong>Go to the Logic App Designer</strong> to design your workflow.</li>
<li>Search for "Recurrence" and add this step.</li>
<li>For the "Interval", enter "1". For "Frequency", select "Hour". Choose your time zone. Leave the "Start time" empty.</li>
<li>
<p><strong>Next, add an action.</strong> This step is crucial. We have two options: HTTP Action and HTTP Webhook Action. For this scenario, choose the <strong>HTTP Action</strong>. Here's why: </p>
</li>
<li>
<p><strong>HTTP Action</strong>:</p>
<ul>
<li>Use this when you simply want to call an HTTP endpoint (in your case, the Azure Function) without waiting for a prolonged period or any kind of asynchronous processing.</li>
<li>The Logic App will receive the immediate response from the Azure Function and then proceed to the next action or finish the workflow.</li>
</ul>
</li>
<li>
<p><strong>HTTP Webhook Action</strong>:</p>
<ul>
<li>Use this when there's a need to wait for an asynchronous process to complete before moving on in the Logic App workflow. The Logic App will pause until it receives a "callback" from the endpoint, signaling that the task is done.</li>
<li>More complex and often used in scenarios where there might be a long delay or wait time between triggering an action and its completion.</li>
</ul>
</li>
</ul>
<p>For our scenario, the <strong>HTTP Action</strong> is a simpler and more suitable choice. It will trigger the Azure Function, and once the Function responds (which it does after fetching and storing the weather data), the Logic App will consider the action completed. There is no need to wait for the Azure Function to complete its task and send a callback. Here is a real-world example of the output from choosing each scenario:</p>
<p><img alt="Alt text" src="images\image-65.png" /></p>
<ul>
<li>
<p><strong>In the HTTP Action</strong>, provide the <strong>URI</strong> and <strong>Method</strong> as GET. To obtain the URI from our Azure HTTP-Triggered Function, follow these steps:</p>
</li>
<li>
<p><strong>Open the Azure App</strong> hosting the Azure Function. </p>
</li>
<li><strong>Click the Azure Function</strong>, navigate to <strong>Overview</strong>, then at the top, click <strong>Get Function URL</strong> and copy the URL.</li>
</ul>
<p><strong>The workflow creation is complete</strong>. Save the workflow and wait for the next hour.</p>
<p>In the <strong>Overview section</strong> of the Logic App, under <strong>Runs history</strong>, check the runs to see if the desired action (in our case, the creation of the weather JSON in the blob storage) is being performed.</p>
<h3 id="post-deployment-monitoring">Post-deployment Monitoring</h3>
<p>The purpose of this http-triggered logic-app scheduled Azure Function is to periodically fetch weather data and store it as a JSON file in an Azure Blob container. After deploying the function, you can monitor its performance and analyze invocations by following these steps:</p>
<ul>
<li>Open the Azure Function in the Azure portal.</li>
</ul>
<p><img alt="Alt text" src="images\image-60.png" /></p>
<ul>
<li>
<p>Go to the "Monitor" section to access detailed information about function invocations.</p>
</li>
<li>
<p>Check the Azure Blob container to verify if the JSON files are being created as expected.</p>
</li>
</ul>
<h2 id="common-errors">Common Errors</h2>
<h3 id="azurewebjobsstorage-app-setting-is-not-present">"AzureWebJobsStorage" app setting is not present</h3>
<p><img alt="Alt text" src="images\image-36.png" /></p>
<p>The "AzureWebJobsStorage" app setting error indicates that our Azure Functions app is missing a crucial configuration related to the storage account connection string. This could also be realted to the following deployment failure message</p>
<pre><code class="language-bash">12:23:58 PM FetchWeatherAzFunc: Deployment Log file does not exist in /tmp/oryx-build.log
12:23:58 PM FetchWeatherAzFunc: The logfile at /tmp/oryx-build.log is empty. Unable to fetch the summary of build
12:23:58 PM FetchWeatherAzFunc: Deployment Failed. deployer = ms-azuretools-vscode deploymentPath = Functions App ZipDeploy. Extract zip. Remote build.
12:24:00 PM FetchWeatherAzFunc: Deployment failed.
12:35:57 PM FetchWeatherAzFunc: Starting deployment.
</code></pre>
<p><strong>To resolve this:</strong></p>
<ul>
<li>
<p><strong>Create or Identify a Storage Account</strong>: If you don't already have an Azure Storage account, create one in the same region as our function app.</p>
</li>
<li>
<p><strong>Get the Storage Account Connection String</strong>: Navigate to the Azure Storage account in the Azure Portal. Under the "Settings" section, click on "Access keys." Here, you'll find two keys (key1 and key2) each with a connection string. You can use either of these connection strings for the next step.</p>
</li>
<li>
<p><strong>Update Function App Settings</strong>:</p>
</li>
<li>Navigate to our Azure Functions app in the Azure Portal.</li>
<li>Under the "Settings" section, click on "Configuration."</li>
<li>In the "Application settings" tab, locate or create the <code>AzureWebJobsStorage</code> setting.</li>
<li>Add the setting:<ul>
<li>Name: <code>AzureWebJobsStorage</code></li>
<li>Value: [our Azure Storage Account connection string from step 2]</li>
</ul>
</li>
<li>
<p>Click "OK" or "Save" to add the setting and save our changes on the main configuration page.</p>
</li>
<li>
<p><strong>Restart our Function App</strong>: After adding the necessary setting, restart our function app for the changes to take effect.</p>
</li>
</ul>
<p>Following these steps will resolve the error related to the "AzureWebJobsStorage" app setting.</p>
<h3 id="logic-apps-while-trying-to-add-azure-function-no-resources-of-this-type-found-under-this-subscription">Logic Apps while trying to add azure function - No resources of this type found under this subscription</h3>
<p>Ideally, if you want to add an Azure Function to a Logic App, it should appear like this:</p>
<p><img alt="Alt text" src="images\image-37.png" /></p>
<p>However, sometimes you may encounter the main Azure App, but not the bespoke function you created. Instead, you might see an error message such as "No resources of this type found under this subscription." One of the reason for this could be realted to the storage account which the Azure Function uses. There could be other reason's too like the different regions. </p>
<h3 id="logic-apps-job-shows-running-status-indefinately">Logic Apps Job shows Running status indefinately</h3>
<p>If your Logic App consistently displays a "Running" status for a prolonged duration, several factors might be at play. A common cause is when an HTTP Webhook action is used; the Logic App waits for the webhook's response. It's crucial to verify that the webhook returns a response. Otherwise, the Logic App's status remains "Running" until a timeout or until a response is received.</p>
<p><img alt="Alt text" src="images\image-64.png" /></p>
<p>A solution is to use a straightforward <code>HTTP action</code>. In this method, the step won't await any response; it marks itself as successful upon receiving an output.</p>
<h2 id="appendix">Appendix</h2>
<h3 id="detailed-project-summary">Detailed Project Summary</h3>
<p>In the 'Overview' and 'Solutions Summary Approach' sections, I've sketched out a basic outline of our project. To dive deeper into the details, refer to the content below</p>
<p><strong>Objective</strong></p>
<p>The objective of the Azure function is to fetch current weather data periodically and store it efficiently for later use.</p>
<p><strong>Deployment and Environment:</strong> 
   - The function is developed using Visual Studio Code on Windows.
   - It utilizes the Python V2 programming model for Azure Functions, simplifying the development process.</p>
<p><strong>Data Retrieval:</strong> 
   - The function sources weather data from <code>weatherapi.com</code>.
   - It fetches current weather information without the need for credit card details, with data availability spanning up to 15 days.</p>
<p><strong>Data Storage:</strong> 
   - Weather data is saved as JSON files in an Azure Blob Storage container.
   - Filenames are generated based on the current hour, ensuring organized and chronological storage of data. </p>
<p><strong>Trigger Mechanism:</strong>
   - This Azure Function is HTTP-triggered, requiring external scheduling.
   - The scheduling is managed through Azure Logic Apps, allowing for regular, automated data retrieval.</p>
<p><strong>Error Handling and Logging:</strong> 
   - The function contains robust logging, capturing both successful data retrievals and potential issues.
   - It has mechanisms in place to handle errors, especially when fetching data from the API or while uploading to Blob Storage.</p>
<p><strong>Response Mechanism:</strong>
   - Beyond its primary data retrieval and storage task, the function can provide a personalized greeting if a 'name' parameter is passed in the request.</p>
<h3 id="choice-of-storage-why-azure-data-lake">Choice of storage. Why Azure Data Lake?</h3>
<p>We've selected Azure Data Lake Storage Gen2 (ADLS G2) for storing our weather data. This decision was largely driven by its seamless integration with Azure Functions, which streamlines our data collection process. Apart form this ADLS G2 also has many other advantages, like:</p>
<ul>
<li>
<p><strong>Hierarchical Organization</strong>: ADLS G2 allows us to neatly structure our data, similar to a directory system. We can store our weather data grouped by year, month day etc.</p>
</li>
<li>
<p><strong>Enhanced Security</strong>: The Active Directory permission can be applied to the folders and files. This makes the storage as secure as it can get.</p>
</li>
<li>
<p><strong>Analytics Performance</strong>: ADLS G2 is optimized for heavy-duty data analytics, ensuring efficient query operations over vast datasets.</p>
</li>
</ul>
<p>In the next stage, we decided to convert our JSON-formatted data into Parquet. Here's why:</p>
<ul>
<li>
<p><strong>Analytical Efficiency</strong>: Parquet, with its columnar storage design, streamlines analytical queries, letting us access specific data without scanning the entire dataset.</p>
</li>
<li>
<p><strong>Storage Efficiency</strong>: Parquet compresses data effectively, optimizing storage use and potentially lowering costs.</p>
</li>
<li>
<p><strong>Adaptable Structure</strong>: Parquet inherently carries schema information, allowing for alterations in data structure without disrupting existing data.</p>
</li>
</ul>
<p>A noteworthy advantage of Parquet is its compatibility with various storage systems, including NoSQL databases, data warehouses, and lakehouses. This ensures that we can migrate or integrate our data effortlessly if our analytical demands change.</p>
<p>To summarize, our storage strategy not only prepares our data for immediate analysis but we can also easily move it to other storage solution in future.</p>
<h3 id="creating-an-azure-functions-app-using-azure-portal">Creating an Azure Functions App Using Azure Portal</h3>
<p>An Azure Functions App acts as a host for one or more Azure Functions. In essence, while an individual Azure Function is a piece of code that runs in response to an event, the Function App serves as the hosting and management unit for that function (or multiple functions).</p>
<ul>
<li>To create an Azure Function, click "Create" under "Function App".
<img alt="Alt text" src="images\image-2.png" /></li>
<li>Fill in the required details, including Subscription, Resource Group, Function App name, etc. For the runtime, choose Python. Click "Review + create" and then "Create".
<img alt="Alt text" src="images\image-3.png" /></li>
</ul>
<h3 id="azure-function-vs-code-project-folder-structure">Azure Function VS-Code Project Folder Structure</h3>
<p>Visual Studio Creates the following project structure for Azure Functions Project:</p>
<p><img alt="Alt text" src="images\image-61.png" /></p>
<p>The main Project Folder <strong><project_root></strong> Contents:</p>
<ul>
<li>.venv/: (Optional) Python virtual environment for local development.</li>
<li>.vscode/: (Optional) Visual Studio Code configuration.</li>
<li>function_app.py: Main entry point. Default location for functions, triggers, and bindings.</li>
<li>additional_functions.py: (Optional) Additional Python files for logical grouping and reference in function_app.py.</li>
<li>tests/: (Optional) Test cases for our function app.</li>
<li>.funcignore: (Optional) Declares files not to be published to Azure, often including .vscode/ for editor settings, .venv/ for local Python virtual environment, tests/ for test cases, and local.settings.json to prevent local app settings from being published.</li>
<li>host.json: Contains configuration options affecting all functions in a function app. Gets published to Azure.</li>
<li>local.settings.json: Stores app settings and connection strings for local development, not published to Azure.</li>
<li>requirements.txt: Lists Python packages installed when publishing to Azure.</li>
<li>Dockerfile: (Optional) Used for custom container publishing.</li>
</ul>
<h3 id="structure-of-the-function-function_apppy">Structure of the function function_app.py.</h3>
<p>The <code>function_app.py</code> file is the key entry point. It resides at the root directory and serves as a Python script containing the definitions of the functions within the Function App.</p>
<p>Each function defined in <code>function_app.py</code> must specify several crucial elements:</p>
<ul>
<li><strong>Function Name</strong>: It should have a unique and descriptive name.</li>
<li><strong>Function Trigger</strong>: This defines what activates the function. For example, it could be triggered by an HTTP request or based on a timer schedule.</li>
<li><strong>Function Code</strong>: This is where you place the actual logic for the function.</li>
</ul>
<p><img alt="Alt text" src="images\image-12.png" /></p>
<p>Note, that the structure of <code>function_app.py</code> varies a little bit based on the type of trigger used. E.g., when creating a Timer-triggered function, a specific template code is generated VS Code. </p>
<h3 id="some-details-of-azure-functions-library">Some details of <code>azure-functions</code> library</h3>
<p>The command <code>pip install azure-functions</code> adds the Azure Functions SDK to your Python environment. This SDK facilitates local development, testing, and execution of Azure Functions. It includes tools that allow functions to interact with Azure and other services, such as responding to an HTTP request or storing data in Azure Blob Storage. </p>
<h3 id="azurite-extension">Azurite Extension</h3>
<p>Azurite is mainly used for local development and testing of applications that interact with Azure Storage services. It provides an emulation of Azure Storage services, including Blob, Queue, and Table services, in a local environment. </p>
<p>(CTRL+SHIFT+P)"Azurite: Start" is a command that starts the Azurite server for local debugging etc. After that you typically use F5 to start debugging.</p>
<h3 id="calculate-azure-logic-apps-cost">Calculate Azure Logic Apps Cost</h3>
<p>Azure Logic Apps pricing primarily hinges on the total executions and the combined action and connector executions. To illustrate, for an hourly-triggered Azure Function:</p>
<ul>
<li>The Logic App runs hourly, translating to 24 daily executions.</li>
<li>Every execution typically involves at least two action/connector executions: one for the recurring hourly trigger and another for invoking the Azure Function.</li>
</ul>
<p>Considering rates of approximately $0.000025 per execution and $0.000125 per action or connector execution (though rates can differ based on the region or Microsoft's adjustments):</p>
<p><code>Estimated Monthly Cost = 24 x 30 x (0.000025 + 2 x 0.000125)  $0.198</code></p>
<p>So, running this Azure Logic App with an hourly trigger might cost about 20 cents monthly. Yet, it's crucial to:</p>
<ul>
<li>I wrote this article in 2022. So, confirm current prices on the <a href="https://azure.microsoft.com/en-us/pricing/details/logic-apps/">Azure Logic Apps pricing page</a>.</li>
<li>Use Azure's monitoring tools to observe your actual costs.</li>
<li>Remember Azure's Logic Apps free tier, which offers a set number of free runs and actions monthly, potentially lowering costs if you stay within these free tier boundaries.</li>
</ul>
<p>Overall, for straightforward hourly triggers, Azure Logic Apps offer an affordable solution to schedule tasks without added coding.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../../../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../../../../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../../../../js/base.js"></script>
        <script src="../../../../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
